[gd_scene load_steps=15 format=3 uid="uid://bg3lgrmv831ot"]

[ext_resource type="PackedScene" uid="uid://udyu0pvek0yd" path="res://Scenes/Entities/Player.tscn" id="1_0yxnd"]
[ext_resource type="TileSet" uid="uid://bjweou6carnhc" path="res://Scenes/Levels/World.tres" id="1_exae8"]
[ext_resource type="Script" uid="uid://bjcicxnro84ht" path="res://Scenes/Levels/world.gd" id="1_n8hij"]
[ext_resource type="PackedScene" uid="uid://bfi5qajxctm76" path="res://Scenes/Environment/Statue.tscn" id="4_vi80n"]
[ext_resource type="PackedScene" uid="uid://w38kcn5adm8e" path="res://Scenes/Environment/ExitDoor.tscn" id="5_l0cnv"]
[ext_resource type="PackedScene" uid="uid://k33st4vbvpkf" path="res://Scenes/Levels/Pitfall.tscn" id="7_exae8"]
[ext_resource type="PackedScene" uid="uid://c1b7a3q3x0grs" path="res://Scenes/Entities/chaser_enemy2.tscn" id="8_0v0gn"]
[ext_resource type="PackedScene" uid="uid://dsqa244d34lyo" path="res://Scenes/UI/HUD.tscn" id="9_0v0gn"]
[ext_resource type="PackedScene" uid="uid://njyme1prjmyf" path="res://Scenes/Entities/ChaserEnemy.tscn" id="9_73dir"]
[ext_resource type="AudioStream" uid="uid://b078b4ltpkawd" path="res://Assets/Audio/battle.wav" id="10_73dir"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_0v0gn"]
size = Vector2(13, 192)

[sub_resource type="CanvasItemMaterial" id="CanvasItemMaterial_0v0gn"]
light_mode = 1

[sub_resource type="Gradient" id="Gradient_qjxhu"]
offsets = PackedFloat32Array(0.93666667, 1)
colors = PackedColorArray(0.08, 0.0512, 0.069919996, 1, 1, 1, 1, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_73dir"]
gradient = SubResource("Gradient_qjxhu")

[node name="World" type="Node2D"]
y_sort_enabled = true
script = ExtResource("1_n8hij")

[node name="Hud" parent="." instance=ExtResource("9_0v0gn")]

[node name="CanvasModulate" type="CanvasModulate" parent="."]
color = Color(0, 0, 0, 1)

[node name="Player" parent="." instance=ExtResource("1_0yxnd")]
y_sort_enabled = true
position = Vector2(104, 290)

[node name="TileMap" type="TileMap" parent="."]
tile_set = ExtResource("1_exae8")
format = 2
layer_0/y_sort_enabled = true
layer_0/tile_data = PackedInt32Array(1572859, 4456451, 12, 1769471, 5111811, 19, 1900548, 5111811, 19, 1572867, 3, 0, 1966095, 3, 0, 1572891, 3, 0, 1179663, 1900547, 0, 1966120, 1900547, 0, 1572916, 1900547, 0, 1179712, 1900547, 0, 786508, 1900547, 0, 1179737, 1900547, 0, 786533, 1900547, 0, 196725, 1900547, 0, 131216, 1900547, 0, 131244, 1900547, 0, 131272, 1900547, 0, -261932, 1900547, 0, 524500, 1900547, 0, 131297, 1900547, 0, 1114340, 1900547, 0, 1507544, 1900547, 0, 1900748, 1900547, 0, 2293976, 1900547, 0, 2293951, 1900547, 0, 2687179, 1900547, 0, 3080408, 1900547, 0, 2687204, 1900547, 0, 3080358, 1900547, 0, 3473586, 1900547, 0, 2687155, 1900547, 0, 3080383, 1900547, 0, 3866815, 1900547, 0, 3473611, 1900547, 0, -655114, 3, 0)

[node name="Control" type="Control" parent="."]
z_index = 3
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="Label" type="Label" parent="Control"]
layout_mode = 0
offset_left = 98.0
offset_top = 97.0
offset_right = 417.0
offset_bottom = 129.0
theme_override_font_sizes/font_size = 34
text = "Press W A S D to move"

[node name="Label2" type="Label" parent="Control"]
layout_mode = 0
offset_left = 1500.0
offset_top = -114.0
offset_right = 1819.0
offset_bottom = -82.0
theme_override_font_sizes/font_size = 34
text = "Press space to Dash"

[node name="Label3" type="Label" parent="Control"]
layout_mode = 0
offset_left = 3243.0
offset_top = -341.0
offset_right = 3562.0
offset_bottom = -309.0
theme_override_font_sizes/font_size = 34
text = "Left click
 to slash"
horizontal_alignment = 1

[node name="Label4" type="Label" parent="Control"]
layout_mode = 0
offset_left = 3504.0
offset_top = -315.0
offset_right = 3990.0
offset_bottom = -248.0
theme_override_font_sizes/font_size = 34
text = "right click to use
 Abyssal lance"
horizontal_alignment = 1

[node name="Label6" type="Label" parent="Control"]
layout_mode = 0
offset_left = 2621.0
offset_top = 578.0
offset_right = 3398.0
offset_bottom = 680.0
theme_override_font_sizes/font_size = 34
text = "Press O to summon one of your personalities, 
offering one of three sacrifices
when offered, two random personalities appear"
horizontal_alignment = 1

[node name="Statue" parent="." instance=ExtResource("4_vi80n")]
position = Vector2(2690, 653)
scale = Vector2(2, 2)

[node name="ExitDoor" parent="." instance=ExtResource("5_l0cnv")]
position = Vector2(3062, 815)
scale = Vector2(2, 2)
next_level_path = "uid://bidxgcmqcx4lr"

[node name="Pitfall" parent="." instance=ExtResource("7_exae8")]
collision_mask = 2

[node name="StaticBody2D" type="StaticBody2D" parent="Pitfall"]
collision_layer = 16
collision_mask = 0

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Pitfall/StaticBody2D"]
position = Vector2(-10, -10)
polygon = PackedVector2Array(-153, 252, 255, 51, 642, 246, 1227, -50, 1430, 54, 1621, -35, 1687, -66, 1887, -169, 2090, -76, 2117, -83, 2315, -185, 2530, -92, 2564, -84, 2766, -185, 2976, -89, 3017, -86, 3403, -280, 3746, -275, 3944, -377, 4037, -440, 3961, -628, 3240, -530, 2388, -452, 1438, -409, 882, -378, -121, -81, -472, 128, -375, 388)

[node name="CollisionPolygon2D2" type="CollisionPolygon2D" parent="Pitfall/StaticBody2D"]
polygon = PackedVector2Array(-163, 285, 247, 492, 453, 387, 654, 494, 1237, 191, 1434, 293, 1837, 85, 1893, 43, 2111, -69, 2316, 33, 2523, -72, 2554, -72, 2765, 30, 2965, -70, 3007, -68, 3402, 129, 3844, -84, 3416, -291, 3729, -266, 3943, -155, 4171, -276, 3952, -383, 3961, -418, 4068, -414, 4270, -329, 4322, -219, 3882, 150, 3667, 41, 3077, 312, 3044, 331, 2432, 641, 3068, 957, 3905, 545, 3523, 348, 3876, 174, 4471, 570, 3179, 1254, 2432, 1282, 1997, 864, 1913, 635, 1960, 569, 1919, 564, 1798, 511, 1348, 674, 1241, 478, 683, 834, 461, 680, 51, 721, -388, 342)

[node name="CollisionPolygon2D3" type="CollisionPolygon2D" parent="Pitfall/StaticBody2D"]
position = Vector2(2, 5)
polygon = PackedVector2Array(1638, -40, 1842, 65, 1888, 53, 1657, -74, 1593, -39)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Pitfall/StaticBody2D"]
position = Vector2(2985, -85)
shape = SubResource("RectangleShape2D_0v0gn")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Pitfall"]
position = Vector2(-10, -10)
polygon = PackedVector2Array(-153, 252, 255, 51, 642, 246, 1227, -50, 1430, 54, 1621, -35, 1687, -66, 1887, -169, 2090, -76, 2117, -83, 2315, -185, 2530, -92, 2564, -84, 2766, -185, 2976, -89, 3017, -86, 3403, -280, 3746, -275, 3944, -377, 4037, -440, 3961, -628, 3240, -530, 2388, -452, 1438, -409, 882, -378, -121, -81, -472, 128, -375, 388)

[node name="CollisionPolygon2D2" type="CollisionPolygon2D" parent="Pitfall"]
polygon = PackedVector2Array(-163, 285, 247, 492, 453, 387, 654, 494, 1237, 191, 1434, 293, 1837, 85, 1893, 43, 2111, -69, 2316, 33, 2523, -72, 2554, -72, 2765, 30, 2965, -70, 3007, -68, 3402, 129, 3844, -84, 3416, -291, 3729, -266, 3943, -155, 4171, -276, 3952, -383, 3961, -418, 4068, -414, 4270, -329, 4322, -219, 3882, 150, 3667, 41, 3077, 312, 3044, 331, 2432, 641, 3068, 957, 3905, 545, 3523, 348, 3876, 174, 4471, 570, 3179, 1254, 2432, 1282, 1997, 864, 1913, 635, 1960, 569, 1919, 564, 1798, 511, 1348, 674, 1241, 478, 683, 834, 461, 680, 51, 721, -388, 342)

[node name="CollisionPolygon2D3" type="CollisionPolygon2D" parent="Pitfall"]
position = Vector2(2, 5)
polygon = PackedVector2Array(1638, -40, 1842, 65, 1888, 53, 1657, -74, 1593, -39)

[node name="Sprite2D" type="Sprite2D" parent="."]
z_index = -1
material = SubResource("CanvasItemMaterial_0v0gn")
position = Vector2(1893.5001, 97.10341)
scale = Vector2(96.60937, 49.09051)
texture = SubResource("GradientTexture2D_73dir")

[node name="ChaserEnemy" parent="." instance=ExtResource("8_0v0gn")]
z_index = 1
position = Vector2(3847, -237)
scale = Vector2(2.4, 2.4)

[node name="ChaserEnemy2" parent="." instance=ExtResource("9_73dir")]
z_index = 1
position = Vector2(3524, -117)
scale = Vector2(2, 2)

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer" parent="."]
stream = ExtResource("10_73dir")

[connection signal="body_entered" from="Pitfall" to="." method="_on_pitfall_body_entered"]
[connection signal="body_entered" from="Pitfall" to="Pitfall" method="_on_body_entered"]

[editable path="Pitfall"]
